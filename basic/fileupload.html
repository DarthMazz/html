<!DOCTYPE html>
<html>

<head lang="ja">
  <meta charset="utf-8">
  <title>Main</title>
</head>

<body>
  <div>
    <form action="test.html" method="post" enctype="multipart/form-data">
      <div>
        <input type="file" name="test" onchange="previewFile(this);" accept="image/png, image/jpeg, application/pdf"
          required>
      </div>
      <div>
        <input type="submit" value="送信する">
      </div>
    </form>
  </div>
  <div>
    <p>プレビュー</p>
    <img id="preview">
    <script>
      function previewFile(hoge) {
        let fileData = new FileReader();
        fileData.onload = (function () {
          document.getElementById("preview").src = fileData.result;
        })
        fileData.readAsDataURL(hoge.files[0]);
      }
    </script>
  </div>
</body>

</html>